import random
import matplotlib.pyplot as plt
from deap import base, creator, tools, algorithms, gp
import operator
import numpy as np
from primitiveFuncs import *

# fs = ["add(sq(mul(-5, sub(-5, sq(cos(sub(sq(cos(sub(sq(cos(sub(cos(sq(cos(sub(sub(-0.3569351072542297, cos(cos(sub(cos(sub(sub(x, cos(x)), sq(sq(cos(sub(x, sq(sq(cos(x))))))))), sub(x, cos(sub(sub(x, sq(sq(cos(x)))), sq(sq(cos(x)))))))))), sub(cos(sub(-10, sq(sq(cos(tan(cos(sub(-10, sq(sq(cos(sin(y)))))))))))), sq(sin(tan(sin(tan(sin(y))))))))))), sq(cos(tan(sin(y))))))), sub(x, cos(sub(cos(sub(x, sq(sq(cos(x))))), sq(sub(cos(y), sub(x, cos(sub(cos(sub(x, sq(cos(tan(sin(y)))))), sq(sq(cos(tan(sin(y)))))))))))))))), sub(x, cos(cos(sub(sq(sq(sq(sq(cos(cos(sub(-10, sq(sub(cos(sub(-10, sq(sq(cos(sin(y)))))), sq(sin(tan(sin(sub(sub(x, sq(sq(sq(cos(x))))), sq(sq(cos(neg(y)))))))))))))))))), sub(sub(x, sq(sq(sq(sq(cos(y)))))), sq(sq(sq(sq(cos(sub(cos(sub(-10, sq(sq(sq(cos(y)))))), x))))))))))))))))), sq(mul(-10, tan(sin(tan(sin(y)))))))",
# "sub(sq(mul(-3, -10)), add(sub(sub(mul(4, mul(-7, sq(y))), mul(mul(-3, 10), cos(mul(mul(sin(sin(neg(x))), -3), safe_sqrt(1))))), mul(mul(-3, sub(add(sub(add(sub(add(sub(add(sub(mul(4, mul(-7, sin(x))), mul(mul(-3, 10), sin(mul(mul(-3, sin(4)), sin(cos(mul(y, -3))))))), add(sub(mul(4, sin(x)), mul(mul(-3, 10), sin(mul(mul(-3, mul(mul(-3, -3), sin(cos(mul(mul(mul(x, mul(cos(mul(mul(sq(y), sin(3)), y)), tan(y))), x), -3))))), sin(cos(4)))))), -3)), mul(mul(-3, 10), sin(mul(mul(-3, mul(-0.6693787069822248, -3)), sin(cos(mul(mul(sq(y), sin(sin(sin(sin(neg(add(sin(-0.1351511671231025), neg(-0.592943112534221)))))))), y))))))), tan(-7)), mul(mul(-3, 10), sin(mul(mul(-3, -3), sin(cos(mul(mul(mul(x, mul(mul(sq(x), sin(sin(neg(mul(mul(sq(x), tan(-7)), sq(x)))))), tan(-7))), -3), -3))))))), add(sub(mul(mul(mul(mul(-3, mul(-3, -10)), sin(mul(mul(cos(mul(mul(sq(y), sin(sin(y))), -3)), sin(cos(mul(mul(sq(x), sin(sin(tan(neg(tan(-3)))))), -3)))), sin(cos(mul(mul(sq(x), mul(-7, sq(y))), -3)))))), sin(mul(mul(-3, mul(-0.6693787069822248, -3)), sin(cos(mul(mul(sq(y), sin(sin(neg(cos(mul(y, mul(sq(y), x))))))), y)))))), sin(x)), y), sin(sq(x)))), mul(mul(mul(-3, mul(-3, -10)), sin(mul(cos(mul(mul(sq(y), sin(sin(neg(x)))), -3)), sin(cos(mul(mul(sq(x), mul(mul(-3, -3), sq(y))), -3)))))), sin(mul(mul(-3, mul(-0.6693787069822248, -3)), sin(mul(cos(mul(mul(sq(y), sin(sin(-0.1351511671231025))), -3)), sin(cos(mul(mul(sq(x), sin(sin(tan(neg(tan(-3)))))), -3))))))))), tan(cos(mul(mul(sin(sin(neg(x))), -3), safe_sqrt(1))))), mul(mul(-3, 10), sin(mul(mul(-3, -3), sin(cos(mul(mul(sq(x), mul(-3, sq(y))), -3)))))))), sin(mul(cos(mul(mul(sq(y), sin(sin(y))), -3)), sin(cos(mul(mul(sq(x), sin(sin(tan(neg(tan(-3)))))), -3))))))), tan(-7)))",
# "sub(sq(mul(-3, -10)), add(sub(sub(mul(4, mul(-7, sq(y))), mul(mul(-3, 10), cos(mul(mul(sin(sin(neg(x))), -3), safe_sqrt(1))))), mul(mul(-3, sub(add(sub(add(sub(add(sub(add(sub(mul(4, mul(-7, sin(x))), mul(mul(-3, 10), sin(mul(mul(-3, sin(4)), sin(cos(mul(y, -3))))))), add(sub(mul(4, sin(x)), mul(mul(-3, 10), sin(mul(mul(-3, mul(mul(-3, -3), sin(cos(mul(mul(mul(x, mul(cos(mul(mul(sq(y), sin(3)), y)), tan(y))), x), -3))))), sin(cos(4)))))), -3)), mul(mul(-3, 10), sin(mul(mul(-3, mul(-0.6693787069822248, -3)), sin(cos(mul(mul(sq(y), sin(sin(sin(sin(neg(add(sin(-0.1351511671231025), neg(-0.592943112534221)))))))), y))))))), tan(-7)), mul(mul(-3, 10), sin(mul(mul(-3, -3), sin(cos(mul(mul(mul(x, mul(mul(sq(x), sin(sin(neg(mul(mul(sq(x), tan(-7)), sq(x)))))), tan(-7))), -3), -3))))))), add(sub(mul(mul(mul(mul(-3, mul(-3, -10)), sin(mul(mul(cos(mul(mul(sq(y), sin(sin(y))), -3)), sin(cos(mul(mul(sq(x), sin(sin(tan(neg(tan(-3)))))), -3)))), sin(cos(mul(mul(sq(x), mul(-7, sq(y))), -3)))))), sin(mul(mul(-3, mul(-0.6693787069822248, -3)), sin(cos(mul(mul(sq(y), sin(sin(neg(cos(mul(y, mul(sq(y), sq(y)))))))), y)))))), sin(x)), y), sin(sq(x)))), mul(mul(mul(-3, mul(-3, -10)), sin(mul(cos(mul(mul(sq(y), sin(sin(neg(x)))), -3)), sin(cos(mul(mul(sq(x), mul(mul(-3, -3), sq(y))), -3)))))), sin(mul(mul(-3, mul(-0.6693787069822248, -3)), sin(mul(cos(mul(mul(sq(y), sin(sin(-0.1351511671231025))), -3)), sin(cos(mul(mul(sq(x), sin(sin(tan(neg(tan(-3)))))), -3))))))))), tan(cos(mul(mul(sin(sin(neg(x))), -3), safe_sqrt(1))))), mul(mul(-3, 10), sin(mul(mul(-3, -3), sin(cos(mul(mul(sq(x), mul(-3, sq(y))), -3)))))))), sin(mul(cos(mul(mul(sq(y), sin(sin(y))), -3)), sin(cos(mul(mul(sq(x), sin(sin(tan(neg(tan(-3)))))), -3))))))), tan(-7)))",
# "sub(sq(mul(-3, -10)), add(sub(sub(mul(4, mul(-7, sq(y))), mul(mul(-7, 10), cos(mul(mul(sin(sin(neg(x))), -3), safe_sqrt(1))))), mul(mul(-3, sub(add(sub(add(sub(add(sub(add(sub(mul(4, mul(-7, sin(x))), mul(mul(-3, 10), sin(mul(mul(-3, sin(4)), sin(cos(mul(y, -3))))))), add(sub(mul(4, cos(mul(mul(sq(y), sin(sin(neg(cos(mul(y, mul(sq(y), sq(y)))))))), y))), mul(mul(-3, 10), sin(mul(mul(-3, mul(mul(-3, -3), sin(cos(mul(mul(mul(x, mul(cos(mul(mul(sq(y), sin(3)), y)), tan(y))), x), -3))))), sin(cos(4)))))), -3)), mul(mul(-3, 10), sin(mul(mul(-3, mul(-0.6693787069822248, -3)), sin(cos(mul(mul(sq(y), sin(sin(sin(sin(neg(add(sin(-0.1351511671231025), neg(-0.592943112534221)))))))), y))))))), tan(-7)), mul(mul(-3, 10), sin(mul(mul(-3, -3), sin(cos(mul(mul(mul(x, mul(mul(sq(x), sin(sin(neg(mul(tan(y), sq(x)))))), tan(-7))), -3), -3))))))), add(sub(mul(mul(mul(mul(-3, mul(-3, -10)), sin(mul(cos(mul(mul(sq(y), sin(sin(neg(x)))), -3)), sin(cos(mul(mul(sq(x), mul(-7, sq(y))), -3)))))), sin(mul(mul(-3, mul(-0.6693787069822248, -3)), sin(cos(mul(mul(sq(y), sin(mul(cos(mul(mul(sq(y), sin(sin(neg(x)))), -3)), sin(cos(mul(mul(sq(x), mul(-7, sq(y))), -3)))))), y)))))), sin(x)), y), sin(cos(y)))), mul(mul(mul(-3, mul(-3, -10)), sin(mul(cos(mul(mul(sq(y), sin(sin(neg(x)))), -3)), sin(cos(mul(mul(sq(x), mul(-7, sq(y))), -3)))))), sin(mul(mul(-3, -3), sin(cos(mul(mul(sq(y), sin(sin(neg(cos(mul(y, mul(sq(safe_div(y, y)), sq(y)))))))), y))))))), tan(cos(mul(mul(sin(sin(neg(x))), -3), safe_sqrt(1))))), mul(mul(sin(mul(x, sin(cos(mul(y, -3))))), 10), sin(mul(mul(-3, mul(mul(-3, -3), sin(cos(mul(mul(mul(x, mul(mul(sq(x), sin(sin(neg(mul(-7, sq(x)))))), tan(-7))), -3), -3))))), sin(cos(mul(mul(sq(x), mul(-7, sq(y))), cos(x))))))))), sin(mul(cos(mul(mul(sin(cos(4)), sin(sin(y))), -3)), sin(cos(mul(mul(sq(x), sin(sin(tan(neg(tan(-3)))))), -3))))))), tan(-7)))",
# "sub(sq(mul(-3, -10)), add(sub(sub(mul(4, mul(-7, sq(y))), mul(mul(-7, 10), cos(mul(mul(sin(sin(neg(x))), -3), safe_sqrt(1))))), mul(mul(-3, sub(add(sub(add(sub(add(sub(add(sub(mul(4, mul(-7, sin(x))), mul(mul(-3, 10), sin(mul(mul(-3, sin(4)), sin(cos(mul(y, -3))))))), add(sub(mul(4, cos(mul(mul(sq(y), sin(sin(neg(cos(mul(y, mul(sq(y), sq(y)))))))), y))), mul(mul(-3, 10), sin(mul(mul(-3, mul(mul(-3, -3), sin(cos(mul(mul(mul(x, mul(cos(mul(mul(sq(y), sin(3)), y)), tan(y))), x), -3))))), sin(cos(4)))))), -3)), mul(mul(-3, 10), sin(mul(mul(-3, mul(-0.6693787069822248, -3)), sin(cos(mul(mul(sq(y), sin(sin(sin(sin(neg(add(sin(-0.1351511671231025), neg(-0.592943112534221)))))))), y))))))), tan(-7)), mul(mul(-3, 10), sin(mul(mul(-3, -3), sin(cos(mul(mul(mul(x, mul(mul(sq(x), sin(sin(neg(mul(tan(y), sq(x)))))), tan(-7))), -3), -3))))))), add(sub(mul(mul(mul(mul(-3, mul(-3, -10)), sin(mul(cos(mul(mul(sq(y), sin(sin(neg(x)))), -3)), sin(cos(mul(mul(sq(x), mul(-7, sq(y))), -3)))))), sin(mul(mul(-3, mul(-0.6693787069822248, -3)), sin(cos(mul(mul(sq(y), sin(mul(cos(mul(mul(sq(y), sin(sin(neg(x)))), -3)), sin(cos(mul(mul(sq(x), mul(-7, sq(y))), -3)))))), y)))))), sin(x)), y), sin(cos(sin(sin(neg(x))))))), mul(mul(mul(-3, mul(-3, -10)), sin(mul(cos(mul(mul(sq(y), sin(add(sub(9, x), safe_sqrt(-0.10836602868696854)))), -3)), sin(cos(mul(mul(sq(x), mul(-7, sq(y))), -3)))))), sin(mul(mul(-3, mul(-0.6693787069822248, -3)), sin(cos(mul(mul(sq(y), sin(sin(neg(cos(mul(y, mul(sq(safe_div(y, y)), sq(y)))))))), y))))))), tan(cos(mul(mul(sin(sin(neg(x))), -3), safe_sqrt(1))))), mul(mul(sin(mul(x, sin(cos(mul(y, -3))))), 10), sin(mul(mul(-3, mul(mul(-3, -3), sin(cos(mul(mul(mul(x, mul(mul(sq(x), sin(sin(neg(mul(-7, sq(x)))))), tan(-7))), -3), -3))))), sin(cos(mul(mul(sq(x), mul(-7, sq(y))), cos(x))))))))), sin(mul(cos(mul(mul(sin(cos(4)), sin(sin(y))), -3)), sin(cos(mul(mul(sq(x), sin(sin(tan(neg(tan(-3)))))), -3))))))), tan(-7)))",
# "sub(sq(mul(-3, -10)), add(sub(sub(mul(4, mul(-7, sq(y))), mul(mul(-7, 10), cos(mul(mul(sin(sin(neg(x))), -3), safe_sqrt(1))))), mul(mul(-3, sub(add(sub(add(sub(add(sub(add(sub(mul(4, mul(-7, sin(x))), mul(mul(-3, 10), sin(mul(mul(-3, sin(4)), sin(cos(mul(y, -3))))))), add(sub(mul(4, cos(mul(mul(sq(y), sin(sin(neg(cos(mul(y, mul(sq(y), sq(y)))))))), y))), mul(mul(-3, 10), sin(mul(mul(-3, mul(mul(-3, -3), sin(cos(mul(mul(mul(x, mul(cos(mul(mul(sq(y), sin(3)), y)), tan(y))), x), -3))))), sin(cos(4)))))), -3)), mul(mul(-3, 10), sin(mul(mul(-3, mul(-0.6693787069822248, -3)), sin(cos(mul(mul(sq(y), sin(sin(sin(sin(neg(add(sin(-0.1351511671231025), neg(-0.592943112534221)))))))), y))))))), sin(mul(mul(-3, sin(4)), sin(cos(mul(y, -3)))))), mul(mul(-3, 10), sin(mul(mul(-3, -3), sin(cos(mul(mul(mul(x, mul(mul(sq(x), sin(sin(neg(mul(tan(y), sq(x)))))), tan(-7))), -3), -3))))))), add(sub(mul(mul(mul(mul(-3, mul(-3, -10)), sin(mul(cos(mul(mul(sq(y), sin(sin(neg(x)))), -3)), sin(cos(mul(mul(sq(x), mul(-7, sq(y))), -3)))))), sin(mul(mul(-3, mul(-0.6693787069822248, -3)), sin(cos(mul(mul(sq(y), sin(mul(cos(mul(mul(sq(y), sin(sin(neg(x)))), -3)), sin(cos(mul(mul(sq(x), mul(-7, sq(y))), -3)))))), y)))))), sin(x)), y), sin(cos(sin(sin(neg(x))))))), mul(mul(mul(-3, mul(-3, -10)), sin(mul(cos(mul(mul(sq(y), sin(sin(neg(x)))), -3)), sin(cos(mul(mul(sq(x), mul(-7, sq(y))), -3)))))), sin(mul(mul(-3, mul(-0.6693787069822248, -3)), sin(cos(mul(mul(sq(y), sin(sin(neg(cos(mul(y, mul(sq(safe_div(y, y)), sq(y)))))))), y))))))), tan(cos(mul(mul(sin(sin(neg(x))), -3), safe_sqrt(1))))), mul(mul(sin(mul(x, sin(cos(mul(y, -3))))), 10), sin(mul(mul(-3, mul(mul(-3, -3), sin(cos(mul(mul(mul(x, mul(mul(sq(x), sin(sin(neg(mul(-7, sq(x)))))), tan(-7))), -3), -3))))), sin(cos(mul(mul(sq(x), mul(-7, sq(y))), cos(x))))))))), sin(mul(cos(mul(mul(sin(cos(4)), sin(sin(y))), -3)), sin(cos(mul(mul(sq(x), sin(sin(tan(neg(tan(-3)))))), -3))))))), tan(-7)))",
# "sub(sq(mul(-3, -10)), add(sub(sub(mul(4, mul(-7, sq(y))), mul(mul(-7, 10), cos(mul(mul(sin(sin(neg(x))), -3), safe_sqrt(1))))), mul(mul(-3, sub(add(sub(add(sub(add(sub(add(sub(mul(4, mul(-7, sin(x))), mul(mul(-3, 10), sin(mul(mul(-3, sin(4)), sin(cos(mul(y, -3))))))), add(sub(mul(4, cos(mul(mul(sq(y), sin(sin(neg(cos(mul(y, mul(sq(y), sq(y)))))))), y))), mul(mul(-3, 10), sin(mul(mul(-3, mul(mul(-3, -3), sin(cos(mul(mul(mul(x, mul(cos(mul(mul(sq(y), sin(3)), y)), tan(y))), x), -3))))), sin(cos(4)))))), -3)), mul(mul(-3, 10), sin(mul(mul(-3, mul(-0.6693787069822248, -3)), sin(cos(mul(mul(sq(y), sin(sin(sin(sin(neg(add(sin(-0.1351511671231025), neg(-0.592943112534221)))))))), y))))))), tan(-7)), mul(mul(-3, 10), sin(mul(mul(-3, -3), sin(cos(mul(mul(mul(x, mul(mul(sq(x), sin(sin(neg(mul(tan(y), sq(x)))))), tan(-7))), -3), -3))))))), add(sub(mul(mul(mul(mul(-3, mul(-3, -10)), sin(mul(cos(mul(mul(sq(y), sin(sin(neg(x)))), -3)), sin(cos(mul(mul(sq(x), mul(-7, sq(mul(mul(sq(y), sin(sin(neg(x)))), -3)))), -3)))))), sin(mul(mul(-3, mul(-0.6693787069822248, -3)), sin(cos(mul(mul(sq(y), sin(mul(cos(mul(mul(sq(y), sin(sin(neg(x)))), -3)), sin(cos(mul(mul(sq(x), mul(-7, sq(y))), -3)))))), y)))))), sin(x)), y), sin(cos(sin(sin(neg(x))))))), mul(mul(mul(-3, mul(-3, -10)), sin(mul(cos(mul(mul(sq(y), sin(sin(neg(x)))), -3)), sin(cos(mul(mul(sq(x), mul(-7, sq(y))), -3)))))), sin(mul(mul(-3, mul(-0.6693787069822248, -3)), sin(cos(mul(mul(sq(y), sin(sin(neg(cos(mul(y, mul(sq(safe_div(y, y)), sq(y)))))))), y))))))), tan(cos(mul(mul(sin(sin(neg(x))), -3), safe_sqrt(1))))), mul(mul(sin(mul(x, sin(cos(mul(y, -3))))), 10), sin(mul(mul(-3, mul(mul(-3, -3), sin(cos(mul(mul(mul(x, mul(mul(sq(x), sin(sin(neg(mul(-7, sq(x)))))), tan(-7))), -3), -3))))), sin(cos(mul(mul(sq(x), mul(-7, sq(y))), cos(x))))))))), sin(mul(cos(mul(mul(sin(cos(4)), sin(sin(y))), -3)), sin(cos(mul(mul(sq(x), sin(sin(tan(neg(tan(-3)))))), -3))))))), tan(-7)))",
# "sq(sub(sub(sub(x, sub(-8, sub(sub(sub(sub(x, sub(sin(sub(sub(sub(sq(x), x), x), sub(x, sub(sub(-0.7486492049668185, sq(-8)), x)))), sub(sub(add(-5, y), sub(sub(sub(-0.7486492049668185, sq(sq(tan(cos(sub(sq(x), sub(cos(sub(sq(x), sub(tan(tan(cos(x))), sub(sq(x), sub(sub(sub(x, x), x), sub(x, sub(sub(tan(neg(sub(x, y))), sub(sub(sub(x, x), x), sub(sub(x, sq(cos(x))), x))), x))))))), sub(tan(neg(sub(-0.7486492049668185, x))), sub(sub(sub(x, x), x), sub(sub(x, sq(tan(cos(sub(x, safe_div(y, -0.4254022604221772)))))), add(cos(-0.36527627025211196), sq(x)))))))))))), sub(sub(sq(tan(cos(sub(sq(x), sub(tan(x), sub(sub(tan(x), safe_div(y, -0.4254022604221772)), sub(sub(sub(x, x), sub(sub(sub(-0.7486492049668185, sq(-8)), x), sub(sub(x, sq(tan(cos(sub(x, safe_div(y, -0.4254022604221772)))))), x))), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(-0.7486492049668185, sq(-8)), x))))))))), sq(x)), sq(x))), sub(sub(sq(tan(cos(sin(x)))), sub(sub(sub(sub(x, sq(tan(cos(sub(sq(x), sub(tan(cos(sin(x))), sub(sq(x), sub(sq(-8), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(tan(neg(sub(x, y))), sub(sub(sub(x, x), x), sub(sub(x, sq(tan(cos(sin(x))))), x))), x)))))))))), sub(sub(sq(tan(cos(sub(sq(x), sub(tan(cos(sub(sq(x), sub(-10, sub(-0.8180386560669901, sub(sub(sub(x, x), x), sub(sub(x, sq(tan(cos(sub(tan(x), safe_div(y, -0.4254022604221772)))))), sub(sub(-0.7486492049668185, sq(-8)), x)))))))), sub(sq(x), sub(sub(sub(x, x), sub(sub(x, sq(tan(cos(x)))), sub(sub(-0.7486492049668185, sub(sub(-0.7486492049668185, sq(-8)), x)), x))), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(-0.7486492049668185, sq(-8)), x))))))))), sub(sub(sub(sub(x, y), sq(sq(tan(cos(sub(sq(x), sub(tan(tan(x)), sub(sq(x), sub(sub(sub(x, x), sin(x)), x))))))))), sub(sub(sq(tan(cos(sub(sq(x), sub(tan(x), sub(sq(x), sub(sub(sub(x, x), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(-0.7486492049668185, sq(-8)), x))), sub(sub(y, sq(tan(cos(sin(x))))), sub(sub(-0.7486492049668185, sub(sq(x), sub(tan(tan(x)), sub(sq(x), sub(sub(sub(x, x), sin(x)), x))))), x))))))))), sq(x)), sq(x))), sq(sq(tan(cos(sub(sq(x), sub(-10, sub(tan(neg(sub(-0.7486492049668185, x))), sub(sub(sub(x, x), x), sub(sub(x, sq(tan(cos(sin(x))))), sub(-8, x)))))))))))), sq(sub(sq(tan(cos(sub(sq(x), sub(tan(x), sub(sq(x), sub(sub(sub(x, x), sub(sub(x, sq(x)), sub(sub(-0.7486492049668185, sq(-8)), x))), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(-0.7486492049668185, sq(-8)), x))))))))), sq(tan(cos(sub(sq(x), sub(tan(x), sub(sq(x), sub(sub(sub(sub(sub(sub(x, x), x), sub(sub(x, sq(tan(cos(sub(sq(x), safe_div(y, -0.4254022604221772)))))), add(cos(x), sq(x)))), x), neg(sub(x, y))), sub(sub(x, sq(tan(cos(x)))), sub(sq(tan(cos(sin(sin(sq(tan(cos(sin(x))))))))), x))))))))))))), sq(sq(tan(cos(sub(sq(x), sub(-10, sub(tan(neg(sub(-0.7486492049668185, x))), sub(sub(sub(x, x), x), sub(sub(x, sq(tan(cos(sin(sin(x)))))), sub(sub(-0.7486492049668185, cos(sin(y))), x))))))))))), sub(sub(sub(sub(-2, sub(sub(x, sq(sub(x, sq(sq(tan(cos(x))))))), sub(sub(sub(sub(sub(sub(sub(sq(sq(tan(cos(x)))), sub(sq(x), sub(tan(tan(cos(sub(sub(sin(x), sq(tan(cos(sin(x))))), sub(-8, x))))), sub(tan(neg(sub(-0.7486492049668185, x))), sub(sub(sub(-0.7486492049668185, tan(neg(sub(-0.7486492049668185, x)))), sq(neg(sub(sin(sq(x)), x)))), sub(sub(x, sq(sq(tan(cos(x))))), sub(sub(sub(x, sq(tan(cos(sin(x))))), sq(-8)), sq(x)))))))), sub(sub(sub(x, x), x), sub(sub(x, sq(cos(neg(-0.4314357773787787)))), x))), sq(tan(neg(sub(-0.7486492049668185, x))))), sq(x)), x), mul(y, 7)), sq(-2)))), sub(x, sub(sub(-0.7486492049668185, sin(cos(y))), sq(neg(sub(cos(sub(-0.7486492049668185, tan(neg(sub(-0.7486492049668185, x))))), x)))))), sq(x)), sq(tan(neg(sub(-0.7486492049668185, x))))))), sub(sub(x, sq(sq(tan(cos(sub(sq(x), sub(x, sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(-0.7486492049668185, sq(-8)), x))))))))), sub(sub(sq(tan(cos(sub(sq(x), sub(tan(tan(cos(x))), sub(sq(x), sub(sub(sub(x, x), x), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(tan(neg(sub(x, y))), sub(tan(neg(sub(x, y))), -8)), x))))))))), sub(x, sq(tan(cos(sub(sq(cos(-6)), sub(sq(x), sub(tan(y), sub(tan(neg(sub(sub(y, 0.4656148132839715), x))), sub(sub(sub(x, sq(x)), x), sub(sub(x, sq(tan(-0.7486492049668185))), sub(tan(cos(sin(x))), x)))))))))))), sub(sub(x, sub(sub(sq(tan(cos(sub(sq(x), sub(tan(tan(cos(x))), sub(sq(x), sub(sub(sub(sub(sub(x, sq(tan(cos(sin(x))))), sub(-8, x)), x), x), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(tan(neg(sub(x, y))), sub(sq(x), sub(sub(x, sq(tan(cos(sin(x))))), x))), x))))))))), sub(x, sq(tan(cos(sub(sq(cos(-6)), sub(sq(x), sub(tan(y), sub(tan(neg(sub(sub(y, 0.4656148132839715), x))), sub(sub(sub(x, sq(x)), x), sub(sub(x, sq(tan(cos(sin(x))))), sub(tan(cos(sin(x))), x)))))))))))), sub(sub(x, sq(sq(tan(cos(sub(sq(x), sub(-10, sub(tan(neg(sub(-0.7486492049668185, x))), sub(sub(sub(x, x), x), sub(sub(x, sq(tan(cos(sub(tan(x), safe_div(y, -0.4254022604221772)))))), sub(sub(-0.7486492049668185, sq(-8)), x))))))))))), sub(sub(sq(tan(cos(sub(sq(x), sub(tan(x), sub(sq(x), sub(sub(sub(x, x), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(-0.7486492049668185, sq(-8)), x))), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(-0.7486492049668185, sq(-8)), x))))))))), sq(tan(cos(sub(sq(x), sub(tan(x), sub(sq(x), sub(sub(sub(x, x), sub(sub(sin(x), sq(tan(cos(sin(x))))), sub(sub(sin(x), sq(-8)), x))), sub(sub(x, sq(tan(cos(sin(x))))), sub(-0.7486492049668185, x)))))))))), sq(tan(cos(sub(tan(x), safe_div(y, -0.4254022604221772))))))))), sub(sub(sq(tan(cos(sub(sq(x), sub(tan(x), sub(sq(x), sub(sub(sub(x, x), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(-0.7486492049668185, sq(-8)), x))), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(-0.7486492049668185, sq(-8)), x))))))))), sq(tan(cos(sub(sq(x), sub(tan(x), sub(sq(x), sub(sub(sub(sub(sub(sub(x, x), x), sub(sub(x, sq(tan(cos(sub(sq(x), safe_div(y, -0.4254022604221772)))))), add(cos(tan(10)), sq(x)))), x), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(sub(sub(sub(x, x), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(-0.7486492049668185, sq(-8)), x))), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(-0.7486492049668185, sq(-8)), x))), sq(-8)), 3))), sub(sub(sub(sub(x, sq(x)), x), sq(tan(cos(sin(x))))), sub(sq(tan(cos(sin(sin(sq(tan(cos(sin(x))))))))), x)))))))))), sq(sub(sub(sub(sub(x, sq(tan(cos(sin(x))))), x), sub(sub(sub(-0.7486492049668185, sq(-8)), x), sub(sub(x, sq(tan(cos(sub(x, safe_div(y, -0.4254022604221772)))))), sub(x, safe_div(y, -0.4254022604221772))))), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(-0.7486492049668185, sq(-8)), x))))))))))), sq(tan(neg(sub(-0.7486492049668185, x))))))), sq(x)), sq(x)), sq(neg(sub(sin(sq(x)), x)))))), sq(mul(neg(-2), safe_div(y, 0.2073285987361546)))), sub(sub(x, sq(sq(tan(cos(sin(cos(sub(sub(sub(sub(x, x), x), sub(sub(x, sq(tan(cos(sin(x))))), add(y, -0.5817790799118865))), safe_div(y, -0.4254022604221772))))))))), sub(sub(sub(sq(tan(cos(sub(x, sq(sq(tan(cos(sub(sq(x), sub(cos(sub(sq(x), sub(tan(sub(-0.7486492049668185, x)), sub(sq(x), sub(sub(sub(x, x), x), sub(x, sub(sub(tan(neg(sub(x, y))), sub(sub(sub(x, x), x), sub(sub(x, sq(cos(x))), x))), x))))))), sub(tan(neg(sub(-0.7486492049668185, x))), sub(sub(sub(x, x), x), sub(sub(x, sq(tan(cos(sub(x, safe_div(y, -0.4254022604221772)))))), add(cos(-0.36527627025211196), sq(x))))))))))))))), sq(tan(cos(sub(sq(cos(sin(x))), sub(tan(x), sub(sq(x), sub(sub(sub(sub(sin(cos(y)), sub(sub(x, sq(tan(cos(sub(sq(x), safe_div(y, x)))))), add(cos(tan(10)), sq(x)))), x), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(x, x), 3))), sub(sub(x, sq(tan(cos(sin(x))))), sub(sq(tan(cos(sin(sin(sq(tan(cos(x)))))))), x)))))))))), sq(x)), sq(neg(sub(sin(sq(x)), x)))))))",
# "sq(sub(sub(sub(x, sub(-8, sub(sub(sub(sub(x, sub(sin(sub(sub(sub(sq(x), x), x), sub(x, sub(sub(-0.7486492049668185, sq(-8)), x)))), sub(sub(add(-5, y), sub(sub(sub(-0.7486492049668185, sq(sq(tan(cos(sub(sq(x), sub(cos(sub(sq(x), sub(tan(tan(cos(x))), sub(sq(x), sub(sub(sub(x, x), x), sub(x, sub(sub(tan(neg(sub(x, y))), sub(sub(sub(x, x), x), sub(sub(x, sq(cos(x))), x))), x))))))), sub(tan(neg(sub(-0.7486492049668185, x))), sub(sub(sub(x, x), x), sub(sub(x, sq(tan(cos(sub(x, safe_div(y, -0.4254022604221772)))))), add(cos(-0.36527627025211196), sq(x)))))))))))), sub(sub(sq(tan(cos(sub(sq(x), sub(tan(x), sub(sub(tan(x), safe_div(y, -0.4254022604221772)), sub(sub(sub(x, x), sub(sub(sub(-0.7486492049668185, sq(-8)), x), sub(sub(x, sq(tan(cos(sub(x, safe_div(y, -0.4254022604221772)))))), x))), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(-0.7486492049668185, sq(-8)), x))))))))), sq(x)), sq(x))), sub(sub(sq(tan(cos(sin(x)))), sub(sub(sub(sub(x, sq(tan(cos(sub(sq(x), sub(tan(cos(sin(x))), sub(sq(x), sub(sq(-8), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(tan(neg(sub(x, y))), sub(sub(sub(x, x), x), sub(sub(x, sq(tan(cos(sin(x))))), x))), x)))))))))), sub(sub(sq(tan(cos(sub(sq(x), sub(tan(cos(sub(sq(x), sub(-10, sub(-0.8180386560669901, sub(sub(sub(x, x), x), sub(sub(x, sq(tan(cos(sub(tan(x), safe_div(y, -0.4254022604221772)))))), sub(sub(-0.7486492049668185, sq(-8)), x)))))))), sub(sq(x), sub(sub(sub(x, x), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(-0.7486492049668185, sub(sub(-0.7486492049668185, sq(-8)), x)), x))), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(-0.7486492049668185, sq(-8)), x))))))))), sub(sub(sub(sub(x, y), sq(sq(tan(cos(sub(sq(x), sub(tan(tan(x)), sub(sq(x), sub(sub(sub(x, x), sin(x)), x))))))))), sub(sub(sq(tan(cos(sub(sq(x), sub(tan(x), sub(sq(x), sub(sub(sub(x, x), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(-0.7486492049668185, sq(-8)), x))), sub(sub(y, sq(tan(cos(sin(x))))), sub(sub(-0.7486492049668185, sub(sq(x), sub(tan(tan(x)), sub(sq(x), sub(sub(sub(x, x), sin(x)), x))))), x))))))))), sq(x)), sq(x))), sq(sq(tan(cos(sub(sq(x), sub(-10, sub(tan(neg(sub(-0.7486492049668185, x))), sub(sub(sub(x, x), x), sub(sub(x, sq(tan(cos(sin(x))))), sub(-8, x)))))))))))), sq(sub(sq(tan(cos(sub(sq(x), sub(tan(x), sub(sq(x), sub(sub(sub(x, x), sub(sub(x, sq(x)), sub(sub(-0.7486492049668185, sq(-8)), x))), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(-0.7486492049668185, sq(-8)), x))))))))), sq(tan(cos(sub(sq(x), sub(tan(x), sub(sq(x), sub(sub(sub(sub(sub(sub(x, x), x), sub(sub(x, sq(tan(cos(sub(sq(x), safe_div(y, -0.4254022604221772)))))), add(cos(x), sq(x)))), x), neg(sub(x, y))), sub(sub(x, sq(tan(cos(x)))), sub(sq(tan(cos(sin(sin(sq(tan(cos(sin(x))))))))), x))))))))))))), sq(sq(tan(cos(sub(sq(x), sub(-10, sub(tan(neg(sub(-0.7486492049668185, x))), sub(sub(sub(x, x), x), sub(sub(x, sq(tan(cos(sin(sin(x)))))), sub(sub(-0.7486492049668185, cos(sin(y))), x))))))))))), sub(sub(sub(sub(-2, sub(sub(x, sq(sub(x, sq(sq(tan(cos(x))))))), sub(sub(sub(sub(sub(sub(sub(sq(sq(tan(cos(x)))), sub(sq(x), sub(tan(tan(cos(sub(sub(sin(x), sq(tan(cos(sin(x))))), sub(-8, x))))), sub(tan(neg(sub(-0.7486492049668185, x))), sub(sub(sub(-0.7486492049668185, tan(neg(sub(-0.7486492049668185, x)))), sq(neg(sub(sin(sq(x)), x)))), sub(sub(x, sq(sq(tan(cos(x))))), sub(sub(sub(x, x), sq(-8)), sq(x)))))))), sub(sub(sub(x, x), x), sub(sub(x, sq(cos(neg(-0.4314357773787787)))), x))), sq(tan(neg(sub(-0.7486492049668185, x))))), sq(x)), x), mul(y, 7)), sq(-2)))), sub(x, sub(sub(-0.7486492049668185, sin(cos(y))), sq(neg(sub(cos(sub(-0.7486492049668185, tan(neg(sub(-0.7486492049668185, x))))), x)))))), sq(x)), sq(tan(neg(sub(-0.7486492049668185, x))))))), sub(sub(x, sq(sq(tan(cos(sub(sq(x), sub(x, sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(-0.7486492049668185, sq(-8)), x))))))))), sub(sub(sq(tan(cos(sub(sq(x), sub(tan(tan(cos(x))), sub(sq(x), sub(sub(sub(x, x), x), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(tan(neg(sub(x, y))), sub(tan(neg(sub(x, y))), -8)), x))))))))), sub(x, sq(tan(cos(sub(sq(cos(-6)), sub(sq(x), sub(tan(y), sub(tan(neg(sub(sub(y, 0.4656148132839715), x))), sub(sub(sub(x, sq(x)), x), sub(sub(x, sq(tan(-0.7486492049668185))), sub(tan(cos(sin(x))), x)))))))))))), sub(sub(x, sub(sub(sq(tan(cos(sub(sq(x), sub(tan(tan(cos(x))), sub(sq(x), sub(sub(sub(sub(sub(x, sq(tan(cos(sin(x))))), sub(-8, x)), x), x), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(tan(neg(sub(x, y))), sub(sq(x), sub(sub(x, sq(tan(cos(sin(x))))), x))), x))))))))), sub(x, sq(tan(cos(sub(sq(cos(-6)), sub(sq(x), sub(tan(y), sub(tan(neg(sub(sub(y, 0.4656148132839715), x))), sub(sub(sub(x, sq(x)), x), sub(sub(x, sq(tan(cos(sin(x))))), sub(tan(cos(sin(x))), x)))))))))))), sub(sub(x, sq(sq(tan(cos(sub(sq(x), sub(-10, sub(tan(neg(sub(-0.7486492049668185, x))), sub(sub(sub(x, x), x), sub(sub(x, sq(tan(cos(sub(tan(x), safe_div(y, -0.4254022604221772)))))), sub(sub(-0.7486492049668185, sq(-8)), x))))))))))), sub(sub(sq(tan(cos(sub(sq(x), sub(tan(x), sub(sq(x), sub(sub(sub(x, x), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(-0.7486492049668185, sq(-8)), x))), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(-0.7486492049668185, sq(-8)), x))))))))), sq(tan(cos(sub(sq(x), sub(tan(x), sub(sq(x), sub(sub(sub(x, x), sub(sub(sin(x), sq(tan(cos(sin(x))))), sub(sub(sin(x), sq(-8)), x))), sub(sub(x, sq(tan(cos(sin(x))))), sub(-0.7486492049668185, x)))))))))), sq(tan(cos(sub(tan(x), safe_div(y, -0.4254022604221772))))))))), sub(sub(sq(tan(cos(sub(sq(x), sub(tan(x), sub(sq(x), sub(sub(sub(x, x), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(-0.7486492049668185, sq(-8)), x))), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(-0.7486492049668185, sq(-8)), x))))))))), sq(tan(cos(sub(sq(x), sub(tan(x), sub(sq(x), sub(sub(sub(sub(sub(sub(x, x), x), sub(sub(x, sq(tan(cos(sub(sq(x), safe_div(y, -0.4254022604221772)))))), add(cos(tan(10)), sq(x)))), x), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(sub(sub(sub(x, x), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(-0.7486492049668185, sq(-8)), x))), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(-0.7486492049668185, sq(-8)), x))), sq(-8)), 3))), sub(sub(sub(sub(x, sq(x)), x), sq(tan(cos(sin(x))))), sub(sq(tan(cos(sin(sin(sq(tan(cos(sin(x))))))))), x)))))))))), sq(sub(sub(sub(sub(x, sq(tan(cos(sin(x))))), x), sub(sub(sub(-0.7486492049668185, sq(-8)), x), sub(sub(x, sq(tan(cos(sub(x, safe_div(y, -0.4254022604221772)))))), sub(x, safe_div(y, -0.4254022604221772))))), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(-0.7486492049668185, sq(-8)), x))))))))))), sq(tan(neg(sub(-0.7486492049668185, x))))))), sq(x)), sq(x)), sq(neg(sub(sin(sq(x)), x)))))), sq(mul(neg(-2), safe_div(y, 0.2073285987361546)))), sub(sub(x, sq(sq(tan(cos(sin(cos(sub(sub(sub(sub(x, x), x), sub(sub(x, sq(tan(cos(sin(x))))), add(y, -0.5817790799118865))), safe_div(y, -0.4254022604221772))))))))), sub(sub(sub(sq(tan(cos(sub(x, sq(sq(tan(cos(sub(sq(x), sub(cos(sub(sq(x), sub(tan(sub(-0.7486492049668185, x)), sub(sq(x), sub(sub(sub(x, x), x), sub(x, sub(sub(tan(neg(sub(x, y))), sub(sub(sub(x, x), x), sub(sub(x, sq(cos(x))), x))), x))))))), sub(tan(neg(sub(-0.7486492049668185, x))), sub(sub(sub(x, x), x), sub(sub(x, sq(tan(cos(sub(x, safe_div(y, -0.4254022604221772)))))), add(cos(-0.36527627025211196), sq(x))))))))))))))), sq(tan(cos(sub(sq(cos(sin(x))), sub(tan(x), sub(sq(x), sub(sub(sub(sub(sin(cos(y)), sub(sub(x, sq(tan(cos(sub(sq(x), safe_div(y, x)))))), add(cos(tan(10)), sq(x)))), x), sub(sub(x, sq(tan(cos(sin(x))))), sub(sub(x, x), 3))), sub(sub(x, sq(tan(cos(sin(x))))), sub(sq(tan(cos(sin(sin(sq(tan(cos(x)))))))), x)))))))))), sq(x)), sq(neg(sub(sin(sq(x)), x)))))))"]
# f = fs[8]

with open("solutions.csv") as file:
    solutions = [s.split(";") for s in file.read().splitlines()]


pset = gp.PrimitiveSet("main", 2)
pset.addPrimitive(operator.add, 2)
pset.addPrimitive(operator.sub, 2)
pset.addPrimitive(operator.mul, 2)
pset.addPrimitive(safe_div, 2)
pset.addPrimitive(operator.neg, 1)
pset.addPrimitive(math.sin, 1)
pset.addPrimitive(safe_sqrt, 1)
pset.addPrimitive(math.cos, 1)
pset.addPrimitive(math.tan, 1)
pset.addPrimitive(sq, 1)

# pset.addEphemeralConstant("Uniform", lambda: random.uniform(-1, 1))
# pset.addEphemeralConstant("Randint", lambda: random.randint(-10, 10))

pset.renameArguments(ARG0="x")
pset.renameArguments(ARG1="y")


xsize, ysize = 4, 8
solutions_grid = [[solutions[x*y] for x in range(ysize)] for y in range(xsize)]
fig, axs = plt.subplots(xsize, ysize)

scale = 16
zoom = 2

for plotx in range(xsize):
    for ploty in range(ysize):
        f, score = solutions_grid[plotx][ploty]

        tree = gp.PrimitiveTree.from_string(f, pset)
        function = gp.compile(tree, pset)

        m = np.zeros(shape=(scale, scale))
        for xi in range(scale):
            for yi in range(scale):
                x, y = (yi / (scale/zoom)) - 1.5, (xi / (scale/zoom)) - 1
                m[xi, yi] = function(x, y)
        axs[plotx, ploty].imshow(m)
        # axs[plotx, ploty].set_title(str(score))
        axs[plotx, ploty].set_xticks([])
        axs[plotx, ploty].set_yticks([])

# plt.imsave("plot.png", m)

plt.show()